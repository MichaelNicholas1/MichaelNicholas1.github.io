<!DOCTYPE html>

<!-- https://medium.com/tunapanda-institute/8-steps-to-publish-your-portfolio-on-github-9d6e6e3d2e84 -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Contact Page</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom fonts for this template -->
    <link
      href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
      rel="stylesheet"
    />

    <!-- Custom styles for this template -->
    <link href="css/one-page-wonder.min.css" rel="stylesheet" />

    <!-- Trying out Plausible Analytics -->
    <script
      defer
      data-domain="michaelnicholas1.github.io"
      src="https://plausible.io/js/plausible.outbound-links.js"
    ></script>

    <script>
      window.plausible =
        window.plausible ||
        function () {
          (window.plausible.q = window.plausible.q || []).push(arguments);
        };
    </script>

    <!-- Pointing to plausible script for custom event for resume downloads-->
    <script>
      // Handle link events - those that have data-analytics
      let elements = document.querySelectorAll("a[data-analytics]");
      registerAnalyticsEvents(elements, handleLinkEvent);

      // Handle button form events - those that have data-analytics
      elements = document.querySelectorAll("button[data-analytics]");
      registerAnalyticsEvents(elements, handleFormEvent);

      /**
       * Iterate Elements and add event listener
       *
       * @param {NodeList} Array of elements
       * @param {string} callback function name
       */
      function registerAnalyticsEvents(elements, callback) {
        for (var i = 0; i < elements.length; i++) {
          elements[i].addEventListener("click", callback);
          elements[i].addEventListener("auxclick", callback);
        }
      }

      /**
       * Handle Link Events with plausible
       * https://github.com/plausible/analytics/blob/e1bb4368460ebb3a0bb86151b143176797b686cc/tracker/src/plausible.js#L74
       *
       * @param {Event} click
       */
      function handleLinkEvent(event) {
        var link = event.target;
        var middle = event.type == "auxclick" && event.which == 2;
        var click = event.type == "click";
        while (
          link &&
          (typeof link.tagName == "undefined" ||
            link.tagName.toLowerCase() != "a" ||
            !link.href)
        ) {
          link = link.parentNode;
        }

        if (middle || click) registerEvent(link.getAttribute("data-analytics"));

        // Delay navigation so that Plausible is notified of the click
        if (!link.target) {
          if (!(event.ctrlKey || event.metaKey || event.shiftKey) && click) {
            setTimeout(function () {
              location.href = link.href;
            }, 150);
            event.preventDefault();
          }
        }
      }

      /**
       * Handle form button submit events with plausible
       *
       * @param {Event} click
       */
      function handleFormEvent(event) {
        event.preventDefault();

        registerEvent(event.target.getAttribute("data-analytics"));

        setTimeout(function () {
          event.target.form.submit();
        }, 150);
      }

      /**
       * Parse data and call plausible
       * Using data attribute in html eg. data-analytics='"Download", {"props":{"plan":"Starter"}}'
       *
       * @param {string} data - plausible event "Download", {"props":{"plan":"Starter"}}
       */
      function registerEvent(data) {
        // break into array
        let attributes = data.split(/,(.+)/);

        // Parse it to object
        let events = [
          JSON.parse(attributes[0]),
          JSON.parse(attributes[1] || "{}"),
        ];

        plausible(...events);
      }
    </script>
  </head>

  <body>
    <!-- Navigation -->
    <nav
      class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top"
      id="mainNav"
    >
      <!-- return home-->
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="index.html"
          >Return to Home</a
        >
        <!-- download pdf-->
        <a
          data-analytics='"Download"'
          class="navbar-brand js-scroll-trigger"
          href="pdfjs/web/Nicholas_Michael_Resume.pdf"
          download
          >Download My Resume</a
        >
      </div>
    </nav>

    <div class="embed-responsive" style="padding-bottom: 100%">
      <iframe
        id="pdf-js-viewer"
        src="pdfjs/web/viewer.html?file=Nicholas_Michael_Resume.pdf"
        title="webviewer"
        frameborder="0"
        width="500"
        height="600"
      ></iframe>
    </div>

    <!-- Footer -->
    <footer class="py-5 bg-black">
      <a
        id="back2Top"
        title="Back to top"
        href="#"
        class="m-0 text-center text-white small"
        >&#10148; Return to top</a
      >
      <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
